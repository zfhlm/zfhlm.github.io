
# docker host networks

    无网络模式，启动加上 --net=none 参数

    每个容器都只有本机回环网卡 lo，如果手动对容器进行网卡配置，无法与容器外进行网络通信

#### 宿主机网络

    宿主机查看本机网络，输入命令：

        ip addr

        ->
        +-----------------+--------------------+-----------------+-------------------+----------------+-------------+
        |  interface      |      ipv4          |       brd       |       mac         |      scope     |    master   |
        +-----------------+--------------------+-----------------+-------------------+----------------+-------------+
        |    ens33        | 192.168.140.201/24 | 192.168.140.255 | 00:0c:29:92:0a:f0 |      global    |             |
        +-----------------+--------------------+-----------------+-------------------+----------------+-------------+
        |   docker0       |   172.17.0.1/16    | 172.17.255.255  | 02:42:8c:5b:ba:0a |      global    |             |
        +-----------------+--------------------+-----------------+-------------------+----------------+-------------+

    可以看到宿主机有两个网卡，一个安装虚拟机自带的网卡 ens33，另一个安装 docker 自动配置的网卡 docker0

#### 容器网络

    运行一个 centos 容器，输入命令：

        docker pull centos

        docker run -it -d --net=none --name centos centos /usr/sbin/init

        docker ps

    宿主机查看 centos 容器网络，输入命令：

        docker exec -it centos ip addr

        ->
        +-----------------+--------------------+-----------------+-------------------+----------------+-------------+
        |  interface      |      ipv4          |       brd       |       mac         |      scope     |    master   |
        +-----------------+--------------------+-----------------+-------------------+----------------+-------------+
        |     lo          |   127.0.0.1/8      |                 | 00:00:00:00:00:00 |      host      |             |
        +-----------------+--------------------+-----------------+-------------------+----------------+-------------+

    可以看到容器内部只有一个本机回环网卡 lo

#### 容器ping

    除了 ping 自己，容器在此模式下网络完全断开，输入命令：

        docker exec -it centos ping 192.168.140.201

        -> connect: Network is unreachable
