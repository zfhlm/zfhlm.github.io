
#### 安装git

	基于centos服务器，服务器IP地址：
	
		192.168.140.139
	
	使用yum命令安装git:
	
		yum install -y git
	
	查看git版本：
	
		git --version
	
	创建git用户：
	
		id git
		
		useradd git
		
		passwd git
	
	创建git工作目录：
	
		mkdir -p /home/git/repository
		
		cd /home/git
		
		git init --bare ./repository
		
		chown -R git:git ./repository/
	
#### 客户端测试

	下载git客户端，地址：
	
		https://git-for-windows.github.io/
	
	使用bash命令行，clone仓库到本地F盘：
	
		cd F:/
		
		mkdir git
		
		cd git
		
		git clone git@192.168.140.139:/home/git/repository
	
	客户端bash可以看到输出：
	
		Cloning into 'repository'...
		git@192.168.140.139's password:
		warning: You appear to have cloned an empty repository.
		
	切换到F盘目录，可以看到 repository 目录

#### 多用户配置

	创建用户分组gitgroup:
	
		groupadd gitgroup
		
	创建分组用户：
	
		useradd zhangsan
		
		passwd zhangsan
		
		useradd lisi
		
		passwd lisi
	
	添加用户到分组：
			
		usermod -G gitgroup git
		
		usermod -G gitgroup zhangsan
		
		usermod -G gitgroup lisi
		
		cat /etc/group
	
	将原有的git仓库删除：
	
		cd /home/git
		
		rm -rf ./repository
		
	创建新的仓库：
	
		cd /home
		
		mkdir repository
		
		git init --bare ./repository
	
	将仓库目录权限赋予用户组：
		
		chgrp -R gitgroup /home/repository/
		
		chmod -R g+rwX ./repository/

#### 多用户测试

	使用本地客户端，在bash客户端输入如下命令测试：
	
		cd F:\
		
		mkdir git
		
		cd ./git
	
		git clone git@192.168.140.139:/home/repository
		
		git clone zhangsan@192.168.140.139:/home/repository
		
		git clone lisi@192.168.140.139:/home/repository
		
	使用本地客户端创建文件：
	
		cd ./repository
		
		mkdir test
		
		cd test
		
		echo 'test' > test.html
		
	使用本地客户端提交到git服务器：
	
		git status
		
		git add ./test
		
		git commit -m '测试'
		
		git push origin master
		
	使用本地客户端 clone git服务器文件：
	
		cd F:\
		
		mkdir repo
		
		git clone zhangsan@192.168.140.139:/home/repository/

#### 禁用控制台登录

	修改用户信息配置：

		vi /etc/passwd
	
	更改以下信息为：
	
		git:x:1000:1000::/home/git:/usr/bin/git-shell
		zhangsan:x:1001:1002::/home/zhangsan:/usr/bin/git-shell
		lisi:x:1002:1003::/home/lisi:/usr/bin/git-shell

	然后保存即可.
